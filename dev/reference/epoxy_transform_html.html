<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Concise syntax for expressions inside HTML elements — epoxy_transform_html • epoxy</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Concise syntax for expressions inside HTML elements — epoxy_transform_html"><meta property="og:description" content='epoxy_transform_html() provides a
pug-like syntax for expressions in
HTML that are wrapped in HTML elements.
Syntax


You can specify the HTML element and its id and class into which the
text of the expression will be placed. The template is to specify the element
using the syntax below, followed by the R expression, separated by a space:
{{ [&amp;lt;element&amp;gt;][#&amp;lt;id&amp;gt; | .&amp;lt;class&amp;gt;...] expr }}

For example, to place the expression in a &amp;lt;li&amp;gt; element with id = "food"
and class = "fruit", you could write
{{ li#food.fruit fruit_name }}

Each item in the HTML template is optional:
If a specific HTML element is desired, the element name must be first. If
no element is specified, the default as set by the element argument of
epoxy_transform_html() will be used.
IDs are specified using #&amp;lt;id&amp;gt; and only one ID may be present
Classes are written using .&amp;lt;class&amp;gt; and as many classes as desired are
allowed.


If the expression is a vector, the same element container will be used for
each item in the vector.
Finally, if the expression returns HTML, it will be escaped by default. You
can either use htmltools::HTML() to mark it as safe HTML in R, or you can
write !!expr in the inline markup: {{ li#food.fruit !!fruit_name }}.

'><meta property="og:image" content="http://pkg.garrickadenbuie.com/epoxy/logo.png"><meta name="twitter:card" content="summary"><meta name="twitter:creator" content="@grrrck"><meta name="twitter:site" content="@grrrck"><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-light navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">epoxy</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">1.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/epoxy.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/inline-reporting.html">Inline Reporting</a>
    </li>
    <li class="divider">
    <li>
      <a href="../articles/index.html">More articles...</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="../news/index.html">
    <span class="far fa-newspaper fa-lg"></span>
     
    
  </a>
</li>
<li>
  <a href="https://github.com/gadenbuie/epoxy" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://twitter.com/grrrck" class="external-link">
    <span class="fab fa-twitter fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://garrickadenbuie.com" class="external-link">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Concise syntax for expressions inside HTML elements</h1>
    <small class="dont-index">Source: <a href="https://github.com/gadenbuie/epoxy/blob/HEAD/R/epoxy_transform_html.R" class="external-link"><code>R/epoxy_transform_html.R</code></a></small>
    <div class="hidden name"><code>epoxy_transform_html.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>epoxy_transform_html()</code> provides a
<a href="https://pughtml.com/what-is-pug-html" class="external-link">pug</a>-like syntax for expressions in
HTML that are wrapped in HTML elements.</p><div class="section">
<h3 id="syntax">Syntax<a class="anchor" aria-label="anchor" href="#syntax"></a></h3>


<p>You can specify the HTML element and its <code>id</code> and <code>class</code> into which the
text of the expression will be placed. The template is to specify the element
using the syntax below, followed by the R expression, separated by a space:</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>{{ [<span class="sc">&lt;</span>element<span class="sc">&gt;</span>][<span class="co">#&lt;id&gt; | .&lt;class&gt;...] expr }}</span></span></code></pre><p></p></div>
<p>For example, to place the expression in a <code>&lt;li&gt;</code> element with <code>id = "food"</code>
and <code>class = "fruit"</code>, you could write</p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a>{{ li<span class="co">#food.fruit fruit_name }}</span></span></code></pre><p></p></div>
<p>Each item in the HTML template is optional:</p><ol><li><p>If a specific HTML element is desired, the element name must be first. If
no element is specified, the default as set by the <code>element</code> argument of
<code>epoxy_transform_html()</code> will be used.</p></li>
<li><p>IDs are specified using <code>#&lt;id&gt;</code> and only one ID may be present</p></li>
<li><p>Classes are written using <code>.&lt;class&gt;</code> and as many classes as desired are
allowed.</p></li>
</ol><p>If the expression is a vector, the same element container will be used for
each item in the vector.</p>
<p>Finally, if the expression returns HTML, it will be escaped by default. You
can either use <code><a href="https://rstudio.github.io/htmltools/reference/HTML.html" class="external-link">htmltools::HTML()</a></code> to mark it as safe HTML in R, or you can
write <code>!!expr</code> in the inline markup: <code>{{ li#food.fruit !!fruit_name }}</code>.</p>
</div>

    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">epoxy_transform_html</span><span class="op">(</span></span>
<span>  class <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  element <span class="op">=</span> <span class="st">"span"</span>,</span>
<span>  collapse <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  transformer <span class="op">=</span> <span class="fu">glue</span><span class="fu">::</span><span class="va"><a href="https://glue.tidyverse.org/reference/identity_transformer.html" class="external-link">identity_transformer</a></span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>class</dt>
<dd><p><code>[character()]</code><br> Additional classes to be added to the inline
HTML element.</p></dd>


<dt>element</dt>
<dd><p><code>[character()</code><br> The default HTML element tag name to be used
when an element isn't specified in the expression.</p></dd>


<dt>collapse</dt>
<dd><p><code>[logical(1)]</code><br> If <code>TRUE</code>, transformed HTML outputs will be
collapsed into a single character string. This is helpful when you're
including the value of a vector within an outer HTML tag. Use <code>collapse = FALSE</code> to return a vector of HTML character strings instead, which follows
what you'd typically expect from <code><a href="https://glue.tidyverse.org/reference/glue.html" class="external-link">glue::glue()</a></code>, i.e. when you want to
repeat the outer wrapping text for each element of the vector.</p></dd>


<dt>transformer</dt>
<dd><p>The transformer to apply to the replacement string. This
argument is used for chaining the transformer functions. By providing a
function to this argument you can apply an additional transformation after
the current transformation. In nearly all cases, you can let
<code><a href="epoxy_transform.html">epoxy_transform()</a></code> handle this for you. The chain ends when
<code><a href="https://glue.tidyverse.org/reference/identity_transformer.html" class="external-link">glue::identity_transformer()</a></code> is used as the <code>transformer</code>.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A function of <code>text</code> and <code>envir</code> suitable for the <code>.transformer</code> argument of
<code><a href="https://glue.tidyverse.org/reference/glue.html" class="external-link">glue::glue()</a></code>.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Used by default in <code><a href="epoxy.html">epoxy_html()</a></code></p>
<p>Other epoxy's glue transformers: 
<code><a href="epoxy_transform.html">epoxy_transform</a>()</code>,
<code><a href="epoxy_transform_inline.html">epoxy_transform_inline</a>()</code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="epoxy.html">epoxy_html</a></span><span class="op">(</span><span class="st">"&lt;ul&gt;{{ li letters[1:3] }}&lt;/ul&gt;"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;ul&gt;&lt;li&gt;a&lt;/li&gt;&lt;li&gt;b&lt;/li&gt;&lt;li&gt;c&lt;/li&gt;&lt;/ul&gt;</span>
<span class="r-in"><span><span class="fu"><a href="epoxy.html">epoxy_html</a></span><span class="op">(</span><span class="st">"&lt;ul&gt;{{ li.alpha letters[1:3] }}&lt;/ul&gt;"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;ul&gt;&lt;li class="alpha"&gt;a&lt;/li&gt;&lt;li class="alpha"&gt;b&lt;/li&gt;&lt;li class="alpha"&gt;c&lt;/li&gt;&lt;/ul&gt;</span>
<span class="r-in"><span><span class="fu"><a href="epoxy.html">epoxy_html</a></span><span class="op">(</span><span class="st">"&lt;ul&gt;{{ li#my-letter letters[7] }}&lt;/ul&gt;"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;ul&gt;&lt;li id="my-letter"&gt;g&lt;/li&gt;&lt;/ul&gt;</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># The default element is used if no element is directly requested</span></span></span>
<span class="r-in"><span><span class="fu"><a href="epoxy.html">epoxy_html</a></span><span class="op">(</span><span class="st">"My name starts with {{ .name-letter letters[7] }}"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> My name starts with &lt;span class="name-letter"&gt;g&lt;/span&gt;</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="epoxy.html">epoxy_html</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"{{ h3#title title }}"</span>,</span></span>
<span class="r-in"><span>  title <span class="op">=</span> <span class="st">"Epoxy for HTML"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;h3 id="title"&gt;Epoxy for HTML&lt;/h3&gt;</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># If your replacement text contains HTML, it's escaped by default.</span></span></span>
<span class="r-in"><span><span class="va">hello</span> <span class="op">&lt;-</span> <span class="st">"&lt;strong&gt;Hi there!&lt;/strong&gt;"</span></span></span>
<span class="r-in"><span><span class="fu"><a href="epoxy.html">epoxy_html</a></span><span class="op">(</span><span class="st">"{{ hello }}"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &amp;lt;strong&amp;gt;Hi there!&amp;lt;/strong&amp;gt;</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># You can use !! inline to mark the text as safe HTML...</span></span></span>
<span class="r-in"><span><span class="fu"><a href="epoxy.html">epoxy_html</a></span><span class="op">(</span><span class="st">"{{ !!hello }}"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;strong&gt;Hi there!&lt;/strong&gt;</span>
<span class="r-in"><span><span class="fu"><a href="epoxy.html">epoxy_html</a></span><span class="op">(</span><span class="st">"{{ button !!hello }}"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;button&gt;&lt;strong&gt;Hi there!&lt;/strong&gt;&lt;/button&gt;</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># ...or you can use htmltools::HTML() to mark it as safe HTML in R.</span></span></span>
<span class="r-in"><span><span class="va">hello</span> <span class="op">&lt;-</span> <span class="fu">htmltools</span><span class="fu">::</span><span class="fu"><a href="https://rstudio.github.io/htmltools/reference/HTML.html" class="external-link">HTML</a></span><span class="op">(</span><span class="st">"&lt;strong&gt;Hi there!&lt;/strong&gt;"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="epoxy.html">epoxy_html</a></span><span class="op">(</span><span class="st">"{{ hello }}"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;strong&gt;Hi there!&lt;/strong&gt;</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by <a href="https://www.garrickadenbuie.com" class="external-link">Garrick Aden-Buie</a>.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.8.</p>
</div>

      </footer></div>

  


  

  </body></html>

