<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Reuse a template from another chunk or file. By calling epoxy_use_chunk()
in an R chunk or inline R expression, you can reuse a template defined in
another chunk in your document.
Alternatively, you can store the template in a separate file and use
epoxy_use_file() to reuse it. When stored in a file, the template file can
contain YAML front matter (following the same rules as pandoc documents)
with options that should be applied when calling an epoxy function. The
specific function called by epoxy_use_file() can be set via the engine
option in the YAML front matter; the default is epoxy()."><title>Reuse a Template Chunk — epoxy_use • epoxy</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><link href="../deps/IBM_Plex_Mono-0.4.7/font.css" rel="stylesheet"><link href="../deps/Outfit-0.4.7/font.css" rel="stylesheet"><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Reuse a Template Chunk — epoxy_use"><meta property="og:description" content="Reuse a template from another chunk or file. By calling epoxy_use_chunk()
in an R chunk or inline R expression, you can reuse a template defined in
another chunk in your document.
Alternatively, you can store the template in a separate file and use
epoxy_use_file() to reuse it. When stored in a file, the template file can
contain YAML front matter (following the same rules as pandoc documents)
with options that should be applied when calling an epoxy function. The
specific function called by epoxy_use_file() can be set via the engine
option in the YAML front matter; the default is epoxy()."><meta property="og:image" content="http://pkg.garrickadenbuie.com/epoxy/logo.png"><meta name="twitter:card" content="summary"><meta name="twitter:creator" content="@grrrck"><meta name="twitter:site" content="@grrrck"><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">epoxy</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/epoxy.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/inline-reporting.html">Inline Reporting</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../articles/index.html">More articles...</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="nav-link" href="../news/index.html">
    <span class="far fa far fa-newspaper fa-lg"></span>
     
    
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/gadenbuie/epoxy">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://twitter.com/grrrck">
    <span class="fab fa fab fa-twitter fa-lg"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://garrickadenbuie.com">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Reuse a Template Chunk</h1>
      <small class="dont-index">Source: <a href="https://github.com/gadenbuie/epoxy/blob/HEAD/R/epoxy_use.R" class="external-link"><code>R/epoxy_use.R</code></a></small>
      <div class="d-none name"><code>epoxy_use.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Reuse a template from another chunk or file. By calling <code>epoxy_use_chunk()</code>
in an R chunk or inline R expression, you can reuse a template defined in
another chunk in your document.</p>
<p>Alternatively, you can store the template in a separate file and use
<code>epoxy_use_file()</code> to reuse it. When stored in a file, the template file can
contain YAML front matter (following the <a href="https://pandoc.org/MANUAL.html#extension-yaml_metadata_block" class="external-link">same rules as pandoc documents</a>)
with options that should be applied when calling an epoxy function. The
specific function called by <code>epoxy_use_file()</code> can be set via the <code>engine</code>
option in the YAML front matter; the default is <code><a href="epoxy.html">epoxy()</a></code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">epoxy_use_chunk</span><span class="op">(</span>.data <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">label</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">epoxy_use_file</span><span class="op">(</span>.data <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">file</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>.data</dt>
<dd><p>A data set</p></dd>


<dt>label</dt>
<dd><p>The chunk label, i.e. the human-readable name, of the chunk
containing the template string. This chunk should be an <code>epoxy</code>,
<code>epoxy_html</code> or other epoxy-provided chunk type and it must have a label.
<code>epoxy_use_chunk()</code> will apply the options from this chunk to the template,
giving preference to arguments in <code>epoxy_use_chunk()</code> or the chunk options
where it is called. See the "Template Options" section for more details.</p></dd>


<dt>...</dt>
<dd><p>Arguments passed on to <code><a href="epoxy.html">epoxy</a></code></p><dl><dt><code>.transformer</code></dt>
<dd><p>A transformer function or transformer chain created with
<code><a href="epoxy_transform.html">epoxy_transform()</a></code>. Alternatively, a character vector of epoxy transformer
names, e.g. <code>c("bold", "collapse")</code> or a list of epoxy transformers, e.g.
<code>list(epoxy_transform_bold(), epoxy_transform_collapse())</code>.</p>
<p>In <span class="pkg">epoxy</span>, you'll most likely want to use the defaults or consult
<code><a href="epoxy_transform.html">epoxy_transform()</a></code> for more information. See also <code><a href="https://glue.tidyverse.org/reference/glue.html" class="external-link">glue::glue()</a></code> for more
information on transformers.</p></dd>

    <dt><code>.style</code></dt>
<dd><p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated" class="external-link"><img src="figures/lifecycle-deprecated.svg" alt="[Deprecated]"></a> Please use <code>.transformer</code>
instead.</p></dd>

    <dt><code>.open</code></dt>
<dd><p>[<code>character(1)</code>: ‘\{’]<br> The opening delimiter around
the template variable or expression. Doubling the full delimiter escapes
it.</p></dd>

    <dt><code>.close</code></dt>
<dd><p>[<code>character(1)</code>: ‘\}’]<br> The closing delimiter
around the template variable or expression. Doubling the full delimiter
escapes it.</p></dd>

    <dt><code>.collapse</code></dt>
<dd><p>A character string used to collapse a vector result into a
single value. If <code>NULL</code> (the default), the result is not collapsed.</p></dd>

    <dt><code>.sep</code></dt>
<dd><p>[<code>character(1)</code>: ‘""’]<br> Separator used to separate elements.</p></dd>

    <dt><code>.envir</code></dt>
<dd><p>[<code>environment</code>: <code><a href="https://rdrr.io/r/base/sys.parent.html" class="external-link">parent.frame()</a></code>]<br> Environment to evaluate each expression in. Expressions are
evaluated from left to right. If <code>.x</code> is an environment, the expressions are
evaluated in that environment and <code>.envir</code> is ignored. If <code>NULL</code> is passed, it is equivalent to <code><a href="https://rdrr.io/r/base/environment.html" class="external-link">emptyenv()</a></code>.</p></dd>

    <dt><code>.na</code></dt>
<dd><p>[<code>character(1)</code>: ‘NA’]<br> Value to replace <code>NA</code> values
with. If <code>NULL</code> missing values are propagated, that is an <code>NA</code> result will
cause <code>NA</code> output. Otherwise the value is replaced by the value of <code>.na</code>.</p></dd>

    <dt><code>.null</code></dt>
<dd><p>[<code>character(1)</code>: ‘character()’]<br> Value to replace
NULL values with. If <code><a href="https://rdrr.io/r/base/character.html" class="external-link">character()</a></code> whole output is <code><a href="https://rdrr.io/r/base/character.html" class="external-link">character()</a></code>. If
<code>NULL</code> all NULL values are dropped (as in <code><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0()</a></code>). Otherwise the
value is replaced by the value of <code>.null</code>.</p></dd>

    <dt><code>.comment</code></dt>
<dd><p>[<code>character(1)</code>: ‘#’]<br> Value to use as the comment
character.</p></dd>

    <dt><code>.literal</code></dt>
<dd><p>[<code>boolean(1)</code>: ‘FALSE’]<br> Whether to treat single or
double quotes, backticks, and comments as regular characters (vs. as
syntactic elements), when parsing the expression string. Setting <code>.literal = TRUE</code> probably only makes sense in combination with a custom
<code>.transformer</code>, as is the case with <code>glue_col()</code>. Regard this argument
(especially, its name) as experimental.</p></dd>

    <dt><code>.trim</code></dt>
<dd><p>[<code>logical(1)</code>: ‘TRUE’]<br> Whether to trim the input
template with <code><a href="https://glue.tidyverse.org/reference/trim.html" class="external-link">trim()</a></code> or not.</p></dd>

  
</dl></dd>


<dt>file</dt>
<dd><p>The template file, i.e. a plain text file, containing the
template. An <code>.md</code> or <code>.txt</code> file extension is recommended. In addition to
the template, the file may also contain YAML front matter containing
options that are used when rendering the template via <code><a href="epoxy.html">epoxy()</a></code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A character string of the rendered template based on the <code>label</code></p>


<p>chunk. The results are marked as <code>"asis"</code> output so that they are treated
as regular text rather than being displayed as code results.</p>
    </div>
    <div class="section level2">
    <h2 id="use-in-r-markdown-or-quarto">Use in R Markdown or Quarto<a class="anchor" aria-label="anchor" href="#use-in-r-markdown-or-quarto"></a></h2>
    


<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="st">```</span><span class="at">{epoxy movie-release}</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="at">{.emph title} was released in {year}.</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="st">```</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="st">```</span><span class="at">{r}</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="at"># Re-using the template we defined above</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="at">epoxy_use_chunk(bechdel[1, ], "movie-release")</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="st">```</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="st">```</span><span class="at">{r}</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="at"># Using in a dplyr pipeline</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="at">bechdel |&gt;</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="at">  dplyr::filter(year == 1989) |&gt;</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="at">  epoxy_use_chunk("movie-release")</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="st">```</span></span></code></pre><p></p></div>
<p>Or you can even use it inline:</p>
<p></p><div class="sourceCode markdown"><pre><code><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>It's hard to believe that</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="in">`r epoxy_use_chunk(bechdel[2, ], "movie-release")`</span>.</span></code></pre><p></p></div>
<p>It's hard to believe that
<em>Back to the Future Part II</em> was released in 1989.</p>
<p>The same template could also be stored in a file, e.g. <code>movie-release.md</code>:</p>
<p></p><div class="sourceCode markdown"><pre><code><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="an">engine:</span><span class="co"> epoxy</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>{.emph title} was released in {year}.</span></code></pre><p></p></div>
<p>The YAML front matter is used in template files to set options for the
template. You can use the <code>engine</code> option to choose the epoxy function to be
applied to the template, e.g. <code>engine: epoxy_html</code> or <code>engine: epoxy_latex</code>.
By default, <code>engine: epoxy</code> is assumed unless otherwise specified.</p>
    </div>
    <div class="section level2">
    <h2 id="template-options">Template Options<a class="anchor" aria-label="anchor" href="#template-options"></a></h2>
    


<p>When rendering a template, <code>epoxy_use_chunk()</code> and <code>epoxy_use_file()</code> will
inherit the options set in a number of different ways. The final template
options are determined in the following order, ranked by importance. Options
set in a higher-ranked location will override options set in a lower-ranked
location.</p><ol><li><p>The arguments passed to <code>epoxy_use_chunk()</code>, such as <code>.data</code> or any
arguments passed in the <code>...</code>. These options always have preference over
options set anywhere else.</p></li>
<li><p>The chunk options from the chunk where <code>epoxy_use_chunk()</code> or
<code>epoxy_use_file()</code> is called.</p></li>
<li><p>The chunk options from the template chunk or file. These options typically
are relevant to the template itself, such as the engine used or the
opening and closing delimiters.</p></li>
<li><p>Global knitr chunk options for the document. You can set these with
<code>knitr::opts_chunk$set()</code>, see <code><a href="https://rdrr.io/pkg/knitr/man/opts_chunk.html" class="external-link">?knitr::opts_chunk</a></code> for more information.</p></li>
</ol></div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by <a href="https://www.garrickadenbuie.com" class="external-link">Garrick Aden-Buie</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  <script src="../doc-versions.js"></script></body></html>

