<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="epoxy">
<title>epoxy in Shiny • epoxy</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><link href="../deps/IBM_Plex_Mono-0.4.6/font.css" rel="stylesheet">
<link href="../deps/Outfit-0.4.6/font.css" rel="stylesheet">
<!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="epoxy in Shiny">
<meta property="og:description" content="epoxy">
<meta property="og:image" content="http://pkg.garrickadenbuie.com/epoxy/preview/pr84/logo.png">
<meta name="twitter:card" content="summary">
<meta name="twitter:creator" content="@grrrck">
<meta name="twitter:site" content="@grrrck">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">epoxy</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/epoxy.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/inline-reporting.html">Inline Reporting</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../articles/index.html">More articles...</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">
    <span class="far fa far fa-newspaper fa-lg"></span>
     
    
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/gadenbuie/epoxy">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://twitter.com/grrrck">
    <span class="fab fa fab fa-twitter fa-lg"></span>
     
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://garrickadenbuie.com">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>epoxy in Shiny</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/gadenbuie/epoxy/blob/HEAD/vignettes/epoxy-shiny.Rmd" class="external-link"><code>vignettes/epoxy-shiny.Rmd</code></a></small>
      <div class="d-none name"><code>epoxy-shiny.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="templating-in-shiny">Templating in Shiny<a class="anchor" aria-label="anchor" href="#templating-in-shiny"></a>
</h2>
<p><a href="https://shiny.posit.co/" class="external-link">Shiny apps</a> are a great way to
design interactive web applications, and epoxy includes several
functions to help you weave reactive data into your apps.</p>
<p>Here are some ways you can use epoxy in your Shiny apps:</p>
<ol style="list-style-type: decimal">
<li><p>Make the text portion of any element in your Shiny UI update
dynamically.</p></li>
<li><p>Weave reactive text into prose in your app.</p></li>
<li><p>Build powerful templates using the <a href="https://mustache.github.io/" class="external-link">mustache templating
language</a>.</p></li>
</ol>
<p>Shiny already includes two reactive text outputs:</p>
<ul>
<li>
<code><a href="https://rdrr.io/pkg/shiny/man/htmlOutput.html" class="external-link">shiny::uiOutput()</a></code> (a.k.a.
<code><a href="https://rdrr.io/pkg/shiny/man/htmlOutput.html" class="external-link">shiny::htmlOutput()</a></code>) and</li>
<li>
<code><a href="https://rdrr.io/pkg/shiny/man/textOutput.html" class="external-link">shiny::textOutput()</a></code>.</li>
</ul>
<p>These are great for displaying reactive text in your app, but they
have some limitations:</p>
<ul>
<li><p><code><a href="https://rdrr.io/pkg/shiny/man/htmlOutput.html" class="external-link">uiOutput()</a></code> tends to move your UI code into the
<code>server</code> function, making it harder to know the final
structure of your UI.</p></li>
<li><p><code><a href="https://rdrr.io/pkg/shiny/man/textOutput.html" class="external-link">textOutput()</a></code> is great for displaying reactive text,
but it takes some work to get the spacing around the dynamic text
<em>just right</em>.</p></li>
</ul>
<p>In this article, we’ll learn how to use epoxy in Shiny apps and how
epoxy improves the experience of writing apps with dynamic text and
templates.</p>
</div>
<div class="section level2">
<h2 id="introducing-epoxy-in-shiny">Introducing epoxy in Shiny<a class="anchor" aria-label="anchor" href="#introducing-epoxy-in-shiny"></a>
</h2>
<div class="section level3">
<h3 id="a-basic-shiny-app-with-textoutput">A basic Shiny app with textOutput()<a class="anchor" aria-label="anchor" href="#a-basic-shiny-app-with-textoutput"></a>
</h3>
<p>Let’s start with an example Shiny app. It’s a simple but friendly app
that greets the user by name.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.rstudio.com/" class="external-link">shiny</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html" class="external-link">fluidPage</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/textInput.html" class="external-link">textInput</a></span><span class="op">(</span><span class="st">"name"</span>, <span class="st">"What's your name?"</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">p</a></span><span class="op">(</span><span class="st">"Hello,"</span>, <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/textOutput.html" class="external-link">textOutput</a></span><span class="op">(</span><span class="st">"greeting"</span>, inline <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>, <span class="st">"!"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">greeting</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/renderPrint.html" class="external-link">renderText</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">name</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html" class="external-link">shinyApp</a></span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></span></code></pre></div>
<p><img src="images/epoxy-shiny/shiny-app-1.png"></p>
<p>This gets you pretty close to what you want, but you have to remember
to include <code>inline = TRUE</code> in <code><a href="https://rdrr.io/pkg/shiny/man/textOutput.html" class="external-link">textOutput()</a></code>.
There’s also some extra space between the user’s name and the
exclamation point that you’d probably like to get rid of<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content='&lt;p&gt;To remove the spacing between &lt;code&gt;&lt;a href="https://rdrr.io/pkg/shiny/man/textOutput.html" class="external-link"&gt;textOutput()&lt;/a&gt;&lt;/code&gt;
and the next character after it, you need to use the &lt;code&gt;.noWS&lt;/code&gt;
argument of a tag function. &lt;code&gt;&lt;a href="https://rdrr.io/pkg/shiny/man/textOutput.html" class="external-link"&gt;textOutput()&lt;/a&gt;&lt;/code&gt; doesn’t expose
this argument though, so you have to give it a custom container
function, such as
&lt;code&gt;container = function(x) span(x, .noWS = "after")&lt;/code&gt;.&lt;/p&gt;'><sup>1</sup></a>.</p>
</div>
<div class="section level3">
<h3 id="setting-up-ui_epoxy_html">Setting up <code>ui_epoxy_html()</code><a class="anchor" aria-label="anchor" href="#setting-up-ui_epoxy_html"></a>
</h3>
<p>Here’s how to approach dynamic text with
<code><a href="../reference/ui_epoxy_html.html">ui_epoxy_html()</a></code>:</p>
<ol style="list-style-type: decimal">
<li><p>Wrap a portion of your UI in <code><a href="../reference/ui_epoxy_html.html">ui_epoxy_html()</a></code> and
give it an <code>.id</code>.</p></li>
<li><p>Use <code>{{ name }}</code> syntax to define fields where the
dynamic text should go.</p></li>
<li><p>In your server code, assign <code><a href="../reference/render_epoxy.html">render_epoxy()</a></code> to an
output matching the UI’s <code>.id</code> and pass in the reactive data
as arguments with names matching the dynamic fields.</p></li>
</ol>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.rstudio.com/" class="external-link">shiny</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://pkg.garrickadenbuie.com/epoxy/" class="external-link">epoxy</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html" class="external-link">fluidPage</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/textInput.html" class="external-link">textInput</a></span><span class="op">(</span><span class="st">"name"</span>, <span class="st">"What's your name?"</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="../reference/ui_epoxy_html.html">ui_epoxy_html</a></span><span class="op">(</span>           <span class="co">#&lt;&lt; Template wrapper</span></span>
<span>    .id <span class="op">=</span> <span class="st">"greeting"</span>,      <span class="co">#&lt;&lt; Unique ID</span></span>
<span>    <span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">p</a></span><span class="op">(</span><span class="st">"Hello, {{name}}!"</span><span class="op">)</span>  <span class="co">#&lt;&lt; Dynamic text</span></span>
<span>  <span class="op">)</span>                        <span class="co">#&lt;&lt;</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">greeting</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/render_epoxy.html">render_epoxy</a></span><span class="op">(</span> <span class="co">#&lt;&lt; Connect to template</span></span>
<span>    name <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">name</span>              <span class="co">#&lt;&lt; Reactive data field</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html" class="external-link">shinyApp</a></span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></span></code></pre></div>
<p><img src="images/epoxy-shiny/epoxy-app-1.png"></p>
</div>
<div class="section level3">
<h3 id="default-or-error-values">Default or error values<a class="anchor" aria-label="anchor" href="#default-or-error-values"></a>
</h3>
<p>Another advantage of using <code><a href="../reference/ui_epoxy_html.html">ui_epoxy_html()</a></code> over
<code><a href="https://rdrr.io/pkg/shiny/man/textOutput.html" class="external-link">textOutput()</a></code> is that you can set default values that appear
immediately while your app is loading or that are used when an error
occurs.</p>
<p>In the next app, <code>name</code> is set to <code>"friend"</code> by
default in <code><a href="../reference/ui_epoxy_html.html">ui_epoxy_html()</a></code>, and on the server side I’ve
also added a <code><a href="https://rdrr.io/pkg/shiny/man/validate.html" class="external-link">validate()</a></code> call indicating that we need a name
with at least 2 characters.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.rstudio.com/" class="external-link">shiny</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://pkg.garrickadenbuie.com/epoxy/" class="external-link">epoxy</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html" class="external-link">fluidPage</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/textInput.html" class="external-link">textInput</a></span><span class="op">(</span><span class="st">"name"</span>, <span class="st">"What's your name?"</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="../reference/ui_epoxy_html.html">ui_epoxy_html</a></span><span class="op">(</span></span>
<span>    .id <span class="op">=</span> <span class="st">"greeting"</span>,</span>
<span>    <span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">p</a></span><span class="op">(</span><span class="st">"Hello, {{name}}!"</span><span class="op">)</span>,</span>
<span>    name <span class="op">=</span> <span class="st">"friend"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">name</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/reactive.html" class="external-link">reactive</a></span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/validate.html" class="external-link">validate</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/validate.html" class="external-link">need</a></span><span class="op">(</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">name</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">2</span>,</span>
<span>      <span class="st">"Name must be more than 2 characters."</span></span>
<span>    <span class="op">)</span><span class="op">)</span></span>
<span>    <span class="va">input</span><span class="op">$</span><span class="va">name</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">greeting</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/render_epoxy.html">render_epoxy</a></span><span class="op">(</span></span>
<span>    name <span class="op">=</span> <span class="fu">name</span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html" class="external-link">shinyApp</a></span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></span></code></pre></div>
<p>If the user hasn’t yet entered a name of more than 2 characters, the
text for the <code>name</code> field will use the default value and will
have a red squiggle below it. Hovering over the squiggle reveals the
error message.</p>
<p><img src="images/epoxy-shiny/epoxy-app-error.png" alt="An app where the user has entered 'me' as their name. The text reads 'Hello, friend!' with a red squiggle below the word friend."></p>
</div>
<div class="section level3">
<h3 id="a-few-more-things-about-ui_epoxy_html">A few more things about <code>ui_epoxy_html()</code><a class="anchor" aria-label="anchor" href="#a-few-more-things-about-ui_epoxy_html"></a>
</h3>
<p>First, you can reference the same reactive value,
e.g. <code>{{ name }}</code>, as many times as you want in your
template. This value can also go just about anywhere in your UI. as long
as it’s okay to put a <code>&lt;span&gt;</code> around the text<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content='&lt;p&gt;For &lt;code&gt;&lt;a href="../reference/ui_epoxy_html.html"&gt;ui_epoxy_html()&lt;/a&gt;&lt;/code&gt; this means you can’t
dynamically update attribute values, like the &lt;code&gt;href&lt;/code&gt;
attribute of an &lt;code&gt;&amp;lt;a&amp;gt;&lt;/code&gt; tag. You &lt;em&gt;can do that&lt;/em&gt;
with &lt;code&gt;&lt;a href="../reference/ui_epoxy_mustache.html"&gt;ui_epoxy_mustache()&lt;/a&gt;&lt;/code&gt; though, which we’ll cover later.
Or you can write the full HTML on the server side with
&lt;code&gt;htmltools::tags$a()&lt;/code&gt;.&lt;/p&gt;'><sup>2</sup></a>.</p>
<details><summary>
Example app code
</summary><div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.rstudio.com/" class="external-link">shiny</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://pkg.garrickadenbuie.com/epoxy/" class="external-link">epoxy</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html" class="external-link">fluidPage</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/textInput.html" class="external-link">textInput</a></span><span class="op">(</span><span class="st">"name"</span>, <span class="st">"What's your name?"</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="../reference/ui_epoxy_html.html">ui_epoxy_html</a></span><span class="op">(</span></span>
<span>    .id <span class="op">=</span> <span class="st">"greeting"</span>,</span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/selectInput.html" class="external-link">selectInput</a></span><span class="op">(</span></span>
<span>      inputId <span class="op">=</span> <span class="st">"color"</span>,</span>
<span>      label <span class="op">=</span> <span class="st">"What's your favorite color, {{ name }}?"</span>,</span>
<span>      choices <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"red"</span>, <span class="st">"green"</span>, <span class="st">"blue"</span>, <span class="st">"purple"</span>, <span class="st">"yellow"</span><span class="op">)</span></span>
<span>    <span class="op">)</span>,</span>
<span>    name <span class="op">=</span> <span class="st">"friend"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">greeting</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/render_epoxy.html">render_epoxy</a></span><span class="op">(</span></span>
<span>    name <span class="op">=</span> <span class="va">input</span><span class="op">$</span><span class="va">name</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html" class="external-link">shinyApp</a></span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></span></code></pre></div>
</details><p><img src="images/epoxy-shiny/epoxy-app-input.png" alt="An app where the user has entered 'Shiny friend' as their name. The label of the select input includes their name, updated dynamically."></p>
<p>You can use <code>{{ &lt;markup&gt; &lt;expr&gt; }}</code>
syntax[^not-inline] from <code><a href="../reference/epoxy.html">epoxy_html()</a></code>, which makes it
possible to determine which HTML element and class is used to contain
the dynamic text. If you send an array of values to this reactive field,
the tag is used as a template, making it easy to do things like
dynamically update a list.</p>
<details><summary>
Example app code
</summary><div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.rstudio.com/" class="external-link">shiny</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://pkg.garrickadenbuie.com/epoxy/" class="external-link">epoxy</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html" class="external-link">fluidPage</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/textInput.html" class="external-link">textInput</a></span><span class="op">(</span><span class="st">"faves"</span>, <span class="st">"What are your favorite fruits?"</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/helpText.html" class="external-link">helpText</a></span><span class="op">(</span><span class="st">"Enter a list of comma-separated fruits."</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="../reference/ui_epoxy_html.html">ui_epoxy_html</a></span><span class="op">(</span></span>
<span>    .id <span class="op">=</span> <span class="st">"fruit_list"</span>,</span>
<span>    <span class="va">tags</span><span class="op">$</span><span class="fu">ul</span><span class="op">(</span><span class="st">"{{ li fruits }}"</span><span class="op">)</span>,</span>
<span>    fruits <span class="op">=</span> <span class="st">"favorite fruits"</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">fruits</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/reactive.html" class="external-link">reactive</a></span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/validate.html" class="external-link">validate</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/validate.html" class="external-link">need</a></span><span class="op">(</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nzchar</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">faves</span><span class="op">)</span>,</span>
<span>      <span class="st">"Please share your favorite fruits."</span></span>
<span>    <span class="op">)</span><span class="op">)</span></span>
<span>    <span class="va">fruits</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/trimws.html" class="external-link">trimws</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/strsplit.html" class="external-link">strsplit</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">faves</span>, <span class="st">",\\s*"</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span>    <span class="va">fruits</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nzchar</a></span><span class="op">(</span><span class="va">fruits</span><span class="op">)</span><span class="op">]</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">fruit_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/render_epoxy.html">render_epoxy</a></span><span class="op">(</span></span>
<span>    fruits <span class="op">=</span> <span class="fu">fruits</span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html" class="external-link">shinyApp</a></span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></span></code></pre></div>
</details><p><img src="images/epoxy-shiny/epoxy-app-copies.png" alt="An app that aks the user for a list of fruits. The user has entered 'mango, coconut, papaya' and a dynamically rendered list below the input shows each fruit as a bullet in a unordered list item."></p>
<ul>
<li>can use <code>{{ &lt;markup&gt; &lt;expr&gt; }}</code> syntax from
<code><a href="../reference/epoxy.html">epoxy_html()</a></code> (but not inline transformations)</li>
<li>bare character strings are assumed to be HTML, replacement is not
unless you use <code>{{{ name }}}</code>
</li>
<li>sends html, can’t send html with new dependencies</li>
</ul>
</div>
<div class="section level3">
<h3 id="connecting-epoxy-with-a-reactive-data-frame">Connecting epoxy with a reactive data frame<a class="anchor" aria-label="anchor" href="#connecting-epoxy-with-a-reactive-data-frame"></a>
</h3>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.rstudio.com/" class="external-link">shiny</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://pkg.garrickadenbuie.com/epoxy/" class="external-link">epoxy</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">movie_choices</span> <span class="op">&lt;-</span> <span class="va">bechdel</span><span class="op">$</span><span class="va">imdb_id</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">movie_choices</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">bechdel</span><span class="op">$</span><span class="va">title</span></span>
<span></span>
<span><span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fixedPage.html" class="external-link">fixedPage</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/selectInput.html" class="external-link">selectInput</a></span><span class="op">(</span><span class="st">"movie"</span>, <span class="st">"Pick a movie"</span>, choices <span class="op">=</span> <span class="va">movie_choices</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="../reference/ui_epoxy_html.html">ui_epoxy_html</a></span><span class="op">(</span></span>
<span>    .id <span class="op">=</span> <span class="st">"movie_info"</span>,</span>
<span>    <span class="fu"><a href="https://rstudio.github.io/htmltools/reference/builder.html" class="external-link">p</a></span><span class="op">(</span></span>
<span>      <span class="st">"{{ em title }} was released in {{ strong year }}."</span>,</span>
<span>      <span class="st">"It was directed by {{ director }} and rated {{ rated }}."</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span>, <span class="va">session</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">movie</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/reactive.html" class="external-link">reactive</a></span><span class="op">(</span><span class="op">{</span></span>
<span>    <span class="va">bechdel</span><span class="op">[</span><span class="va">bechdel</span><span class="op">$</span><span class="va">imdb_id</span> <span class="op">==</span> <span class="va">input</span><span class="op">$</span><span class="va">movie</span>, <span class="op">]</span></span>
<span>  <span class="op">}</span><span class="op">)</span></span>
<span></span>
<span>  <span class="va">output</span><span class="op">$</span><span class="va">movie_info</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/render_epoxy.html">render_epoxy</a></span><span class="op">(</span>.list <span class="op">=</span> <span class="fu">movie</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html" class="external-link">shinyApp</a></span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="cut-this-cut-this-cut-this">Cut this, cut this, cut this<a class="anchor" aria-label="anchor" href="#cut-this-cut-this-cut-this"></a>
</h2>
<p>Sorry! I’m still working on this article. In the mean time, check out
the packaged Shiny app examples using
<code><a href="../reference/run_epoxy_example_app.html">run_epoxy_example_app()</a></code>. Or read about the related Shiny UI
and server functions:</p>
<ul>
<li><code><a href="../reference/ui_epoxy_html.html">ui_epoxy_html()</a></code></li>
<li><code><a href="../reference/ui_epoxy_mustache.html">ui_epoxy_mustache()</a></code></li>
<li><code><a href="../reference/render_epoxy.html">render_epoxy()</a></code></li>
</ul>
</div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by <a href="https://www.garrickadenbuie.com" class="external-link">Garrick Aden-Buie</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  <script>window.jQuery('.navbar-brand + small').addClass(['badge', 'bg-secondary', 'text-light']).removeClass('text-muted')</script>
</body>
</html>
